{% extends "base.html" %}

{% block title %}Dashboard | Campus Connect{% endblock %}

{% block content %}
<div class="container section-padding">
  <!-- Welcome Section -->
  <div class="row align-items-center mb-5">
    <div class="col-md-8">
      <h1 class="display-6 fw-bold text-primary">Welcome, {{ profile.name }}! ðŸ‘‹</h1>
      <p class="lead text-muted">Ready to prepare for your dream career?</p>
    </div>
    <div class="col-md-4 text-md-end">
      <div class="card bg-primary-soft border-0">
        <div class="card-body p-3 text-center">
          <span class="d-block text-uppercase small fw-bold tracking-wide">Current Streak</span>
          <span class="display-6 fw-bold">ðŸ”¥ 3 Days</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Access Grid -->
  <div class="row g-4 mb-5">
    <div class="col-md-4 col-sm-6">
      <a href="{{ url_for('practice_page', type='CODING') }}" class="text-decoration-none">
        <div class="card h-100 border-0 shadow-sm hover-scale">
          <div class="card-body p-4 text-center">
            <div class="stat-icon bg-primary-soft text-primary mx-auto mb-3 rounded-circle">
              <i class="fa-solid fa-code"></i>
            </div>
            <h5 class="fw-bold text-dark">Coding Arena</h5>
            <p class="text-muted small mb-0">Practice DSA & Algorithms with company-specific problems.</p>
          </div>
          <div class="card-footer bg-white border-0 pt-0 pb-3">
            <a href="{{ url_for('resources_page', category='CODING') }}"
              class="btn btn-sm btn-outline-primary w-100">View Resources</a>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4 col-sm-6">
      <a href="{{ url_for('practice_page', type='APTITUDE') }}" class="text-decoration-none">
        <div class="card h-100 border-0 shadow-sm hover-scale">
          <div class="card-body p-4 text-center">
            <div class="stat-icon bg-warning-soft text-warning mx-auto mb-3 rounded-circle">
              <i class="fa-solid fa-brain"></i>
            </div>
            <h5 class="fw-bold text-dark">Aptitude</h5>
            <p class="text-muted small mb-0">Sharpen your logical, verbal, and quant skills.</p>
          </div>
          <div class="card-footer bg-white border-0 pt-0 pb-3">
            <a href="{{ url_for('resources_page', category='APTITUDE') }}"
              class="btn btn-sm btn-outline-warning w-100">View Resources</a>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4 col-sm-6">
      <a href="{{ url_for('practice_page', type='HR') }}" class="text-decoration-none">
        <div class="card h-100 border-0 shadow-sm hover-scale">
          <div class="card-body p-4 text-center">
            <div class="stat-icon bg-success-soft text-success mx-auto mb-3 rounded-circle">
              <i class="fa-solid fa-user-tie"></i>
            </div>
            <h5 class="fw-bold text-dark">HR & Communication</h5>
            <p class="text-muted small mb-0">Master behavioral questions and soft skills.</p>
          </div>
          <div class="card-footer bg-white border-0 pt-0 pb-3">
            <a href="{{ url_for('resources_page', category='HR') }}" class="btn btn-sm btn-outline-success w-100">View
              Resources</a>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4 col-sm-6">
      <a href="{{ url_for('study_planner_page') }}" class="text-decoration-none">
        <div class="card h-100 border-0 shadow-sm hover-scale">
          <div class="card-body p-4 text-center">
            <div class="stat-icon bg-info-soft text-info mx-auto mb-3 rounded-circle">
              <i class="fa-solid fa-calendar-alt"></i>
            </div>
            <h5 class="fw-bold text-dark">Study Planner</h5>
            <p class="text-muted small mb-0">Track your progress with 30/60/90 day roadmaps.</p>
          </div>
          <div class="card-footer bg-white border-0 pt-0 pb-3">
            <a href="{{ url_for('resources_page', category='PLANNER') }}" class="btn btn-sm btn-outline-info w-100">View
              Resources</a>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4 col-sm-6">
      <a href="{{ url_for('forum_page') }}" class="text-decoration-none">
        <div class="card h-100 border-0 shadow-sm hover-scale">
          <div class="card-body p-4 text-center">
            <div class="stat-icon bg-danger-soft text-danger mx-auto mb-3 rounded-circle">
              <i class="fa-solid fa-comments"></i>
            </div>
            <h5 class="fw-bold text-dark">Discussion Forum</h5>
            <p class="text-muted small mb-0">Ask doubts and connect with peers.</p>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4 col-sm-6">
      <a href="{{ url_for('companies_page') }}" class="text-decoration-none">
        <div class="card h-100 border-0 shadow-sm hover-scale">
          <div class="card-body p-4 text-center">
            <div class="stat-icon bg-primary-soft text-dark mx-auto mb-3 rounded-circle"
              style="background-color: #f3f4f6;">
              <i class="fa-solid fa-building"></i>
            </div>
            <h5 class="fw-bold text-dark">Company Profiles</h5>
            <p class="text-muted small mb-0">Explore previous year questions and interview experiences.</p>
          </div>
          <div class="card-footer bg-white border-0 pt-0 pb-3">
            <a href="{{ url_for('resources_page', category='COMPANIES') }}"
              class="btn btn-sm btn-outline-dark w-100">View Resources</a>
          </div>
        </div>
      </a>
    </div>
  </div>

  <!-- Content Row -->
  <div class="row g-4">
    <!-- Progress / Activity -->
    <div class="col-lg-8">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-header bg-white border-0 d-flex justify-content-between align-items-center">
          <h5 class="mb-0 fw-bold">Recent Updates</h5>
          <a href="#" class="text-primary text-decoration-none small fw-bold">View All</a>
        </div>
        <div class="card-body">
          {% if announcements %}
          <div class="list-group list-group-flush">
            {% for ann in announcements %}
            <div class="list-group-item px-0 py-3 border-bottom-0">
              <div class="d-flex w-100 justify-content-between align-items-center">
                <div class="d-flex align-items-center gap-3">
                  <div class="bg-light rounded p-2 text-primary">
                    <i class="fa-solid fa-bullhorn"></i>
                  </div>
                  <div>
                    <h6 class="mb-1 text-dark fw-bold">{{ ann.title }}</h6>
                    <p class="mb-0 text-muted small text-truncate" style="max-width: 400px;">{{ ann.content }}</p>
                  </div>
                </div>
                <small class="text-muted">{{ ann.created_at[:10] }}</small>
              </div>
            </div>
            {% endfor %}
          </div>
          {% else %}
          <div class="text-center py-5">
            <img src="https://cdni.iconscout.com/illustration/premium/thumb/empty-state-2130362-1800926.png" alt="Empty"
              style="width: 150px; opacity: 0.6;">
            <p class="text-muted mt-3">No recent announcements.</p>
          </div>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Recommendations -->
    <div class="col-lg-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-header bg-white border-0">
          <h5 class="mb-0 fw-bold">Recommended for You</h5>
        </div>
        <div class="card-body">
          <div class="d-flex align-items-center gap-3 mb-4">
            <div class="rounded bg-light p-2 text-warning">
              <i class="fa-solid fa-star"></i>
            </div>
            <div>
              <h6 class="mb-1 fw-bold"><a href="#" class="text-dark text-decoration-none stretched-link">Top 50 Arrays
                  Questions</a></h6>
              <small class="text-muted">High frequency in interviews</small>
            </div>
          </div>
          <div class="d-flex align-items-center gap-3 mb-4">
            <div class="rounded bg-light p-2 text-success">
              <i class="fa-solid fa-user-check"></i>
            </div>
            <div>
              <h6 class="mb-1 fw-bold"><a href="#" class="text-dark text-decoration-none stretched-link">Introduction to
                  Self at HR</a></h6>
              <small class="text-muted">Must read guide</small>
            </div>
          </div>
          <div class="mt-4 p-3 bg-primary-soft rounded text-center">
            <p class="small text-primary fw-bold mb-2">Resume Score: 85/100</p>
            <div class="progress" style="height: 6px;">
              <div class="progress-bar bg-primary" role="progressbar" style="width: 85%" aria-valuenow="85"
                aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <a href="{{ url_for('resumes_page') }}" class="btn btn-sm btn-outline-primary mt-3 w-100">Improve Resume</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}